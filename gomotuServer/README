网络服务器的设计：

/****************************************0.0.1************************************************/	
版本号：0.1
	1、接受TCP连接
	2、解析数据报转发数据报
	3、epoll：来监听描述符的状态，使用ET模式，非阻塞的文件描述符，循环的处理数据。这样效率较高。
	4、遇到一个需要处理的事件就创建一个线程，线程处理完成后自动结束。
文件介绍：
	mainServer.c 	是网络程序的主要进程的入口。
	list.h list.c 	原始的链表的实现。
	dataType.h	服务器和客户端之间的通信的数据格式，链表的结点的数据格式。
	threadFun.c threadFun.h 处理客户端发来的消息的线程有关的函数。
整体结构：
	1、初始化变量，全局数据结构，锁
	2、初始化socket与epoll
	3、循环用epoll去处理文件描述符的事件
		1、对待客户端的响应，创建新的线程去处理
		2、在线程中调用不同的功能函数处理具体功能
		3、处理完成后线程自动结束
主要知识点：
	epoll的高并发处理模型
	多线程的创建与同步
	简单的数据结构（链表）
	tcp协议的应用
fix bug：
	网络注册成功之后不断开连接，因为登录信息需要，客户端发来名字。
	删除了服务器处理时间为0的事件处理，因为这样会造成两个客户端对时间处理的困难，等后续版本在做修改。
	修复了开始匹配时，回复两个客户端的内容写反了，并且内存释放过早的错误。
	添加了开始匹配并且加入等待队列的信号201
	在接收客户端的close信号之后，read的返回值为0，在判断中添加检查并释放资源的功能
	将重新匹配的设计改为，如果有不想继续玩的人发来信息，就直接断开两个人的连接，不在给他们重新匹配
	删除服务器主动断开连接的事件，将资源的释放移动到，处理客户端主动断开连接的地方。
待解决问题：
	用valgrind进行检测发现，存在内存未释放的问题，和未初始化的问题，还有一些错误，需要修复。
	//可能存在的问题之一是断开连接后没有将epoll监控的文件描述符事件删除

/******************************************0.0.2**********************************************/
增加的功能：
	1、调用加密模块对来往的数据进行加密
	2、将存取文件改为存取数据库
	3、将多线程用线程池来实现
#由于时间和技术原因这些功能留在下一个版本实现
#	4、将进程改为守护进程，输出日志信息。
#	5、考虑网络的特殊状况，保证传输和连接
文件：
	accessMysql.h accessMysql.c 提供查询MySQL数据库的功能，写入MySQL数据库的功能,数据库中没有存储图片，存储的是数据库所在的系统的绝对路径，这就需要调用者将图片存储到固定的磁盘上。
	threadPoll.c threadPoll.h 实现线程池相关的操作。

整体结构的设计思路：
	1、打算在这个版本完成之后，用c++进行服务器重写。客户端用mfc重写。
	2、将整个服务器软件按模块划分，各个功能模块提供接口，以此来方便单元测试和功能扩展。
		接口的调用大部分在线程处理函数中，也就造成了线程处理函数的难以理解和测试。
		各个模块之间的组合对makefile文件的编写有一定的难度。
	3、在epoll目录中是整个程序的main函数，然后在调用线程函数，而线程函数内部的功能则是整个服务器的核心，所有的功能都在线程中加以分类，然后根据分类在进行不同的操作，服务器的退出暂时还没有。
	4、在重写的时候可以将不同的功能函数分开在不同的类中，这样方便功能内部的完善、测试和扩展。


如果没有前期的详细的需求分析很难知道软件需要写什么功能什么模块，也很难去思考设计模式。
思考设计模块的时候也需要专门的去考虑数据结构的设计和在多文件之间，多个函数之间数据的传递，还有数据的生命周期。
